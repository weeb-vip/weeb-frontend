---
import SvelteLayout from '../../layouts/SvelteLayout.astro';
import ProfilePage from '../../svelte/components/ProfilePage.svelte';

// Server-side authentication check
const { auth } = Astro.locals;

// Show auth status for SSR rendering
console.log('SSR Profile page - Auth status:', {
  isLoggedIn: auth.isLoggedIn,
  hasAuthToken: auth.hasAuthToken,
  hasRefreshToken: auth.hasRefreshToken
});
---

<SvelteLayout
  title="Profile"
  description="Manage your anime watchlist, settings, and profile information."
  noIndex={true}
>
  <ProfilePage
    client:idle
    ssrAuth={auth}
  />
</SvelteLayout>